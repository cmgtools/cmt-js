/**
 * CMGTools JS - v1.0.0-alpha1 - 2016-01-03
 * Description: CMGTools JS is a JavaScript library which provide utilities, ui components and MVC framework implementation for CMSGears.
 * License: GPLv3
 * Author: Bhagwat Singh Chouhan
 */

function showPopup(a){jQuery(a).fadeIn("slow")}function closePopup(a){jQuery(a).fadeOut("slow")}function showErrorPopup(a){jQuery("#error-popup .popup-content").html(a),showPopup("#error-popup")}function hideErrorPopup(){closePopup("#error-popup")}function showMessagePopup(a){jQuery("#message-popup .popup-content").html(a),showPopup("#message-popup")}function hideMessagePopup(){closePopup("#message-popup")}var cmt=cmt||{};if(cmt.utils=cmt.utils||{},cmt.utils.browser={isXhr:function(){var a=new XMLHttpRequest;return a.upload},isFileApi:function(){return window.File&&window.FileList&&window.FileReader},isFormData:function(){return!!window.FormData},isCanvas:function(){var a=document.createElement("canvas"),b=!(!a.getContext||!a.getContext("2d"));return b},isCanvasDataUrl:function(){var a=document.createElement("canvas"),b=a.toDataURL("image/png"),c=0==b.indexOf("data:image/png");return c}},cmt.utils.data={serialiseElement:function(a){var b=[],c=jQuery("#"+a).find(":input").get();jQuery.each(c,function(){if(this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type))){var a=jQuery(this).val();b.push(encodeURIComponent(this.name)+"="+encodeURIComponent(a))}});var d=b.join("&").replace(/%20/g,"+");if(null!=jQuery("meta[name=csrf-token]")){var e=jQuery("meta[name=csrf-token]").attr("content");d+="&_csrf="+e}return d},elementToJson:function(a){var b=[],c=jQuery("#"+a).find(":input").get();return jQuery.each(c,function(){if(this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type))){var a=jQuery(this).val();b.push({name:this.name,value:a})}}),cmt.utils.data.generateJsonMap(b)},serialiseForm:function(a){var b=null;if(b="string"==typeof a?jQuery("#"+a).serialize():a.serialize(),null!=jQuery("meta[name=csrf-token]")){var c=jQuery("meta[name=csrf-token]").attr("content");b+="&_csrf="+c}return b},formToJson:function(a){var b=null;return b="string"==typeof a?jQuery("#"+a).serializeArray():a.serializeArray(),cmt.utils.data.generateJsonMap(b)},generateJsonMap:function(a){var b={};if(null!=jQuery("meta[name=csrf-token]")){var c=jQuery("meta[name=csrf-token]").attr("content");a.push({name:"_csrf",value:c})}return jQuery.map(a,function(a,c){var d=a.name.indexOf("[");if(d>-1){var e=b;_name=a.name.replace(/\]/gi,"").split("[");for(var c=0,f=_name.length;f>c;c++)c==f-1?e[_name[c]]?("string"==typeof e[_name[c]]&&(e[_name[c]]=[e[_name[c]]]),e[_name[c]].push(a.value)):e[_name[c]]=a.value||"":e=e[_name[c]]=e[_name[c]]||{}}else void 0!==b[a.name]?(b[a.name].push||(b[a.name]=[b[a.name]]),b[a.name].push(a.value||"")):b[a.name]=a.value||""}),b},updateUrlParam:function(a,b,c){var d,e,f="",g=jQuery("<a />").attr("href",a)[0],h=/\+/g,i=/([^&=]+)=?([^&]*)/g,j=function(a){return decodeURIComponent(a.replace(h," "))},k=g.search.substring(1);for(d={};e=i.exec(k);)d[j(e[1])]=j(e[2]);if(b||c){if(b&&!c)return d[b];d[b]=c;var l=[];for(var m in d)l.push(encodeURIComponent(m)+"="+encodeURIComponent(d[m]));return l.length>0&&(f="?"+l.join("&")),g.origin+g.pathname+f}return d},removeParam:function(a,b){var c=a.split("?")[0],d=null,e=[],f=-1!==a.indexOf("?")?a.split("?")[1]:"";if(""!==f){e=f.split("&");for(var g=e.length-1;g>=0;g-=1)d=e[g].split("=")[0],d===b&&e.splice(g,1);c=c+"?"+e.join("&")}return c}},cmt.utils.image={arDimensions:function(a,b,c){var d=0,e=a.width,f=a.height;return e>b&&(d=b/e,f*=d,e*=d),f>c&&(d=c/f,e*=d),new Array(e,f)},drawAtCanvasCenter:function(a,b){if(null!=a&&null!=b){var c=a.width,d=a.height,e=a.getContext("2d"),f=new Image,g=window.URL||window.webkitURL,h=g.createObjectURL(b);f.src=h,f.onload=function(){var a=cmt.utils.image.arDimensions(f,c,d);e.translate(c/2,d/2),e.drawImage(f,-(a[0]/2),-(a[1]/2),a[0],a[1]),e.translate(-(c/2),-(d/2)),g.revokeObjectURL(h)}}}},cmt.utils.object={strToObject:function(a){for(var b=a.split("."),c=window||this,d=0,e=b.length;e>d;d++)c=c[b[d]];var f=new c;if("object"!=typeof f)throw new Error(a+" not found");return f}},cmt.utils.ui={alignMiddle:function(a,b){var a=jQuery(a),b=jQuery(b),c=a.height(),d=a.width(),e=b.height(),f=b.width();if(c>=e&&d>=f){var g=(c-e)/2,h=(d-f)/2;b.css({position:"absolute",top:g,left:h})}}},Function.prototype.inherits=function(a){var b=0,c=this.prototype=new a;this.prototype.uber=function(d){var e,f,g=b,h=a.prototype;if(g){for(;g;)h=h.constructor.prototype,g-=1;e=h[d]}else e=c[d],e==this[d]&&(e=h[d]);return b+=1,f=e.apply(this,Array.prototype.slice.apply(arguments,[1])),b-=1,f}},"#_=_"==window.location.hash)if(history.replaceState){var cleanHref=window.location.href.split("#")[0];history.replaceState(null,null,cleanHref)}else window.location.hash="";!function(a){a.fn.cmtBlock=function(b){function c(b){if(a.inArray(b.attr("id"),i)>=0){var c=h[b.attr("id")],d=c.height,f=c.fullHeight,j=c.halfHeight,k=c.heightAuto,l=c.heightAutoMobile,m=c.heightAutoMobileWidth,n=c.css;if(null!=d&&d&&b.css({height:d+"px"}),null!=k&&k&&(null!=d&&d?b.css({height:"auto","min-height":d+"px"}):null!=f&&f?b.css({height:"auto","min-height":g+"px"}):null!=j&&j?b.css({height:"auto","min-height":g/2+"px"}):b.css({height:"auto"})),null==d&&null==k&&null!=f&&f&&b.css({height:g+"px"}),null==d&&null==k&&null!=j&&j&&b.css({height:g/2+"px"}),null!=l&&l&&window.innerWidth<=m){b.css({height:"auto","min-height":g+"px"});var o=b.children(".block-wrap-content");o.hasClass("valign-center")&&o.removeClass("valign-center")}var o=b.find(".block-wrap-content"),p=b.find(".block-content");if(void 0!==p&&p.height()>o.height()){var q=p.height()+100+"px",r=p.height()-o.height();o.height(q),q=b.height()+r+100+"px",b.height(q)}null!=n&&n&&b.css(n)}else e.fullHeight&&(e.heightAuto?b.css({height:"auto","min-height":g+"px"}):b.css({height:g+"px"})),e.halfHeight&&(e.heightAuto?b.css({height:"auto","min-height":g/2+"px"}):b.css({height:g/2+"px"}))}function d(){var b=a(window).height(),c=a(window).scrollTop(),d=c+b,e=c+b/2;f.each(function(f){var g=a(this),h=g.height(),i=g.offset().top,j=i+h,k=g.children(".block-bkg-parallax");if(null!=k&&k.length>0&&d>i&&j>c){var l=(k.width(),k.height()),m=0,n=l-b,o=b>h?l-h:l-b;i-=o,j+=o;var p=m+(n-m)*(e-i)/(j-i);k.css("background-position","50% "+p+"px")}})}var e=a.extend({},a.fn.cmtBlock.defaults,b),f=this,g=a(window).height(),h=(a(window).width(),e.blocks),i=Object.keys(h);f.each(function(){var b=a(this);c(b)}),e.backgroundParallax&&a(window).scroll(d)},a.fn.cmtBlock.defaults={fullHeight:!0,halfHeight:!1,heightAuto:!1,backgroundParallax:!0,blocks:{}}}(jQuery),function(a){a.fn.cmtCheckbox=function(b){function c(a){var b=a.find("input[type='checkbox']"),c=a.find("input[type='hidden']");1==c.val()&&b.prop("checked",!0),b.change(function(){b.is(":checked")?c.val(1):c.val(0)})}var d=(a.extend({},a.fn.cmtCheckbox.defaults,b),this);d.each(function(){var b=a(this);c(b)})},a.fn.cmtCheckbox.defaults={}}(jQuery),function(a){a.fn.cmtFileUploader=function(b){function c(a){var b=a.find(".btn-show-chooser, .btn-direct-chooser");if(b.length>0&&b.click(function(){a.find(".wrap-chooser").toggle("slow"),a.find(".post-action").hide(),cmt.utils.browser.isCanvas()&&"image"==a.attr("type")&&a.find(".preview canvas").hide(),a.find(".chooser .input, .direct-chooser .input").val("");var b=a.find(".preloader .preloader-bar");cmt.utils.browser.isFileApi()?b.css("width","0%"):cmt.utils.browser.isFormData()&&b.html("")}),cmt.utils.browser.isFileApi()){var c=a.find(".chooser .input, .direct-chooser .input");c.change(function(b){e(b,a)});var f=a.find(".preview .wrap-drag");f.bind("dragover",function(a){d(a)}),f.bind("dragleave",function(a){d(a)}),f.bind("drop",function(b){e(b,a)})}else if(cmt.utils.browser.isFormData()){var h=a.attr("directory"),i=a.attr("type"),c=a.find(".chooser .input, .direct-chooser .input");c.change(function(b){g(a,h,i)})}}function d(a){a.stopPropagation(),a.preventDefault()}function e(a,b){var c=b.attr("directory"),e=b.attr("type");d(a);var g=a.target.files||a.originalEvent.dataTransfer.files;if(i.preview&&cmt.utils.browser.isCanvas()&&"image"==e){var h=b.find(".preview canvas");h.show(),cmt.utils.image.drawAtCanvasCenter(h[0],g[0])}f(b,c,e,g[0])}function f(a,b,c,d){var e=new XMLHttpRequest,f=d.type.toLowerCase(),g=jQuery.inArray(f,i.fileFormats),j=a.find(".preloader .preloader-bar"),k=new FormData;if(k.append("file",d),j.css("width","0%"),e.upload&&g){e.upload.onprogress=function(a){if(a.lengthComputable){var b=Math.round(100*a.loaded/a.total);j.css("width",b+"%")}},e.onreadystatechange=function(d){if(4==e.readyState&&200==e.status){var f=JSON.parse(e.responseText);1==f.result?i.uploadListener?i.uploadListener(a.attr("id"),b,c,f.data):h(a,b,c,f.data):alert("File upload failed.")}};var l=fileUploadUrl+"?directory="+encodeURIComponent(b)+"&type="+encodeURIComponent(c);e.open("POST",l,!0),e.send(k)}else alert("File format not allowed.")}function g(a,b,c){var d=a.find(".preloader .preloader-bar"),e=a.find(".chooser .input, .direct-chooser .input"),f=e.files[0],g=new FormData;fileName=f.name,d.html("Uploading file"),g.append("file",f);var j=fileUploadUrl+"?directory="+encodeURIComponent(b)+"&type="+encodeURIComponent(c);jQuery.ajax({type:"POST",url:j,data:g,cache:!1,contentType:!1,processData:!1,dataType:"json"}).done(function(d){progress.html("File uploaded"),1==d.result?i.uploadListener?i.uploadListener(a.attr("id"),b,c,d.data):h(a,b,c,d.data):alert("File upload failed.")})}function h(a,b,c,d){d.name+"."+d.extension;if("image"==c){a.find(".postview .wrap-image").html("<img src='"+d.tempUrl+"' class='fluid' />");var e=a.find(".fields");e.children(".name").val(d.name),e.children(".extension").val(d.extension),e.children(".change").val(1)}a.find(".wrap-chooser").hide(),a.find(".post-action").show()}var i=a.extend({},a.fn.cmtFileUploader.defaults,b),j=this;j.each(function(){var b=a(this);c(b)})},a.fn.cmtFileUploader.defaults={fileFormats:["jpg","jpeg","png","gif","pdf","csv"],uploadListener:null,preview:!0}}(jQuery),function(a){a.fn.cmtFormInfo=function(b){function c(a){a.find(".btn-edit").click(function(){var a=jQuery(this).parent().find(".wrap-info"),b=jQuery(this).parent().find(".wrap-form");a.is(":visible")?(a.hide(),b.fadeIn("slow")):(a.fadeIn("fast"),b.hide())})}var d=(a.extend({},a.fn.cmtFormInfo.defaults,b),this);d.each(function(){var b=a(this);c(b)})},a.fn.cmtFormInfo.defaults={}}(jQuery),function(a){a.fn.cmtHeader=function(b){function c(a){e>d.minWidth&&window.addEventListener("scroll",function(b){var c=window.pageYOffset||document.documentElement.scrollTop,e=d.scrollDistance;c>e?(a.addClass("header-small"),a.hasClass("hidden")&&a.slideDown("slow")):(a.hasClass("header-small")&&a.removeClass("header-small"),a.hasClass("hidden")&&a.slideUp("false"))})}var d=a.extend({},a.fn.cmtHeader.defaults,b),e=window.innerWidth,f=this;f.each(function(){var b=a(this);c(b)})},a.fn.cmtHeader.defaults={minWidth:1024,scrollDistance:300}}(jQuery),function(a){a.fn.cmtSlidingMenu=function(b){function c(b){if(d.mainMenu){var c=a(document).height(),e=a(window).width();b.css({top:"0px",left:"0px",height:c,width:e})}null!=d.showTrigger&&a(d.showTrigger).click(function(){b.fadeIn();var a=b.find(".vnav-slider");"left"==d.position?a.animate({left:0}):"right"==d.position&&a.animate({right:0})}),null!=d.hideTrigger&&a(d.hideTrigger).click(function(){b.fadeOut();var a=b.find(".vnav-slider");"left"==d.position?a.animate({left:-a.width()}):"right"==d.position&&a.animate({right:-a.width()})}),b.find(".btn-close").click(function(){b.fadeOut();var a=b.find(".vnav-slider");"left"==d.position?a.animate({left:-a.width()}):"right"==d.position&&a.animate({right:-a.width()})});var f=b.find(".popup-bkg-filler");f.length>0&&(f.css({top:"0px",left:"0px",height:c,width:e}),f.click(function(){b.fadeOut("fast")}))}var d=a.extend({},a.fn.cmtSlidingMenu.defaults,b),e=this;e.each(function(){var b=a(this);c(b)})},a.fn.cmtSlidingMenu.defaults={position:"left",showTrigger:null,hideTrigger:null,mainMenu:!1}}(jQuery),function(a){a.fn.cmtPopup=function(b){function c(a){var b=a.children(".popup-data");if(b.children(".popup-close").click(function(){a.fadeOut("slow")}),d.modal){a.css({top:"0px",left:"0px",height:f,width:h});var c=a.find(".popup-bkg");c.length>0&&c.css({top:"0px",left:"0px",height:g,width:h});var e=a.find(".popup-bkg-filler");e.length>0&&(e.css({top:"0px",left:"0px",height:g,width:h}),e.click(function(){a.fadeOut("fast")})),a.show();var i=b.height(),j=b.width();a.hide(),b.css({top:g/2-i/2,left:h/2-j/2})}}var d=a.extend({},a.fn.cmtPopup.defaults,b),e=this,f=a(document).height(),g=a(window).height(),h=a(window).width();e.each(function(){var b=a(this);c(b)})},a.fn.cmtPopup.defaults={modal:!0}}(jQuery),function(a){a.fn.cmtSelect=function(b){function c(b){var c=b.children("option:selected");b.wrap("<div></div>");var e=b.parent();if(d.copyId){var f=b.attr("id");null!=f&&f.length>0&&(b.attr("id",null),e.attr("id",f))}e.addClass("cmt-select-wrap"),null!=d.wrapperClass&&e.addClass(d.wrapperClass);var g="<span class='s-icon'>";null!=d.iconClass&&(g="<span class='s-icon "+d.iconClass+"'>"),g+=null!=d.iconHtml?d.iconHtml+"</span>":"</span>";var h="<div class='cmt-select'><div class='cmt-selected'><span class='s-text'>"+c.html()+"</span>"+g+"</div><ul class='cmt-select-list'>";b.find("option").each(function(a){h+="<li data-value='"+jQuery(this).val()+"'>"+jQuery(this).html()+"</li>"}),h+="</ul></div>",e.append(h);var i=(e.children(".cmt-select"),e.children(".cmt-select").children(".cmt-selected")),j=e.children(".cmt-select").children(".cmt-select-list");j.hide();var k=b.attr("disabled");"disabled"==k||k?i.addClass("disabled"):(i.click(function(b){var c=j.is(":visible");a(".cmt-select-list").hide(),c||j.show(),b.stopPropagation()}),j.children("li").click(function(){var a=jQuery(this),b=a.parents().eq(1);b.children(".cmt-selected").children(".s-text").html(a.html()),b.parent().children("select").val(a.attr("data-value")).change(),j.hide()}),a(document).on("click",function(b){0===a(b.target).closest(j).length&&j.hide()}))}var d=a.extend({},a.fn.cmtSelect.defaults,b),e=this;e.each(function(){var b=a(this);c(b)})},a.fn.cmtSelect.defaults={multi:!1,copyId:!1,wrapperClass:null,iconClass:null,iconHtml:null}}(jQuery),function(a){a.fn.cmtSmoothScroll=function(b){function c(b){b.on("click",function(b){b.preventDefault();var c=this.hash,d=a(c);jQuery("html, body").stop().animate({scrollTop:d.offset().top},900,"swing",function(){window.location.hash=c})})}var d=(a.extend({},a.fn.cmtSmoothScroll.defaults,b),this);d.each(function(){var b=a(this);c(b)})},a.fn.cmtSmoothScroll.defaults={}}(jQuery),cmt.api={},cmt.api.Application=function(){this.config={json:!1,errorClass:".error",messageClass:".message",spinnerClass:".spinner"};var a=cmt.api.Application.CONTROLLER_DEFAULT;this.controllers=[],this.controllers[a]="cmt.api.controllers.DefaultController",this.activeControllers=[]},cmt.api.Application.CONTROLLER_DEFAULT="default",cmt.api.Application.ACTION_DEFAULT="default",cmt.api.Application.STATIC_CONTROLLER="cmt-controller",cmt.api.Application.STATIC_ACTION="cmt-action",cmt.api.Application.STATIC_ID="id",cmt.api.Application.STATIC_CLICK=".cmt-click",cmt.api.Application.STATIC_CHANGE=".cmt-change",cmt.api.Application.STATIC_KEY_UP=".cmt-key-up",cmt.api.Application.STATIC_CLEAR="cmt-clear",cmt.api.Application.STATIC_ERROR="cmt-error",cmt.api.Application.prototype.registerTriggers=function(a){var b=this;a.each(function(){var a=jQuery(this);a.is("form")&&(a.unbind("submit"),a.submit(function(c){c.preventDefault(),b.initRequestTrigger(a.attr(cmt.api.Application.STATIC_ID),!0,a.attr(cmt.api.Application.STATIC_CONTROLLER),a.attr(cmt.api.Application.STATIC_ACTION))}));var c=a.find(cmt.api.Application.STATIC_CLICK);c.length>0&&(c.unbind("click"),c.click(function(c){c.preventDefault(),b.initRequestTrigger(a.attr(cmt.api.Application.STATIC_ID),!1,a.attr(cmt.api.Application.STATIC_CONTROLLER),a.attr(cmt.api.Application.STATIC_ACTION))}));var d=a.find(cmt.api.Application.STATIC_CHANGE);d.length>0&&(d.unbind("change"),d.change(function(){b.initRequestTrigger(a.attr(cmt.api.Application.STATIC_ID),!1,a.attr(cmt.api.Application.STATIC_CONTROLLER),a.attr(cmt.api.Application.STATIC_ACTION))}));var e=a.find(cmt.api.Application.STATIC_KEY_UP);e.length>0&&(e.unbind("keyup"),e.keyup(function(){b.initRequestTrigger(a.attr(cmt.api.Application.STATIC_ID),!1,a.attr(cmt.api.Application.STATIC_CONTROLLER),a.attr(cmt.api.Application.STATIC_ACTION))}))})},cmt.api.Application.prototype.findController=function(a){if(this.activeControllers[a])return this.activeControllers[a];try{if(void 0==this.controllers[a])throw"Controller with name "+a+" is not registered with this application.";var b=cmt.utils.object.strToObject(this.controllers[a]);return b.init(),this.activeControllers[a]=b,this.activeControllers[a]}catch(c){if(console.log(c),console.log("Falling back to default controller."),void 0!==this.controllers[cmt.api.Application.CONTROLLER_DEFAULT])return this.findController(cmt.api.Application.CONTROLLER_DEFAULT)}},cmt.api.Application.prototype.initRequestTrigger=function(a,b,c,d){null==c&&(c=cmt.api.Application.CONTROLLER_DEFAULT),null==d&&(d=cmt.api.Application.ACTION_DEFAULT);var e=this.findController(c);b?this.config.json?this.handleRestForm(a,e,d):this.handleAjaxForm(a,e,d):this.handleAjaxRequest(a,e,d)},cmt.api.Application.prototype.handleRestForm=function(a,b,c){var d=this,e=jQuery("#"+a),f=e.attr("method"),g=e.attr("action"),h=jQuery("#"+a+" ."+this.config.messageClass),i=c+"ActionPre";if(h.hide(),e.find(this.config.errorClass).hide(),"undefined"!=typeof b[i]&&!b[i](e))return!1;var j=cmt.utils.data.formToJson(a);return e.find(this.config.spinnerClass).show(),jQuery.ajax({type:f,url:g,data:JSON.stringify(j),dataType:"JSON",contentType:"application/json;charset=UTF-8",success:function(a,f,g){d.processAjaxResponse(e,b,c,h,a)}}),!1},cmt.api.Application.prototype.handleAjaxForm=function(a,b,c){var d=this,e=jQuery("#"+a),f=e.attr("method"),g=e.attr("action"),h=e.find(this.config.messageClass),i=c+"ActionPre";if(h.hide(),e.find(this.config.errorClass).hide(),"undefined"!=typeof b[i]&&!b[i](e))return!1;var j=cmt.utils.data.serialiseForm(a);return e.find(this.config.spinnerClass).show(),jQuery.ajax({type:f,url:g,data:j,dataType:"JSON",success:function(a,f,g){d.processAjaxResponse(e,b,c,h,a)}}),!1},cmt.api.Application.prototype.handleAjaxRequest=function(a,b,c){var d=this,e=jQuery("#"+a),f=e.attr("method"),g=e.attr("action"),h=e.find(this.config.messageClass),i=c+"ActionPre";if(null==f&&(f="post"),h.hide(),e.find(this.errorClass).hide(),"undefined"!=typeof b[i]&&!b[i](e))return!1;var j=cmt.utils.data.serialiseElement(a);return e.find(this.spinnerClass).show(),jQuery.ajax({type:f,url:g,data:j,dataType:"JSON",success:function(a,f,g){d.processAjaxResponse(e,b,c,h,a)}}),!1},cmt.api.Application.prototype.processAjaxResponse=function(a,b,c,d,e){var f=e.result,g=e.message,h=(e.data,e.errors),i=c+"ActionPost";if(1==f){d.html(g),d.show(),a.find(this.config.errorClass).hide(),a.find(this.config.spinnerClass).hide();var j=a.attr(cmt.api.Application.STATIC_CLEAR);j=null==j?!0:"true"===j,j&&(a.find(" input[type='text']").val(""),a.find(" input[type='password']").val(""),a.find(" textarea").val("")),"undefined"!=typeof b[i]&&b[i](!0,a,d,e)}else if(0==f){d.html(g),d.show(),a.find(this.config.spinnerClass).hide();for(var k in h){var l=k,m=h[k],n=a.find(" span["+cmt.api.Application.STATIC_ERROR+"='"+l+"']");n.html(m),n.show()}"undefined"!=typeof b[i]&&b[i](!1,a,d,e)}},function(a){a.fn.cmtRequestProcessor=function(b){var c=a.extend({},a.fn.cmtRequestProcessor.defaults,b),d=c.app;null!=d&&(d.controllers=a.extend([],d.controllers,c.controllers),d.registerTriggers(this))},a.fn.cmtRequestProcessor.defaults={app:null,controllers:[]}}(jQuery),cmt.api.controllers=cmt.api.controllers||{},cmt.api.controllers.BaseController=function(){},cmt.api.controllers.BaseController.prototype.init=function(){},cmt.api.controllers.DefaultController=function(){},cmt.api.controllers.DefaultController.inherits(cmt.api.controllers.BaseController),cmt.api.controllers.DefaultController.prototype.init=function(){console.log("Initialised default controller.")},cmt.api.controllers.DefaultController.prototype.defaultActionPre=function(a){return console.log("Pre processing default action."),!0},cmt.api.controllers.DefaultController.prototype.defaultActionPost=function(a,b,c,d){a?console.log("Processing success for default action."):console.log("Processing failure for default action.")};